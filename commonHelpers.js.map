{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nexport function getImages(userData) {\n    const searchParams = new URLSearchParams({\n    key: '44328072-f56b95eb73841ff5e619bc345',\n    q: userData,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    per_page: '24',\n    safesearch: false,\n    });\n\n    const url = `https://pixabay.com/api/?${searchParams}`;\n    \n    return fetch(url).then(res => res.json());\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nfunction createImage({ largeImageURL, webformatURL, tags, comments, downloads, likes, views }) {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=${largeImageURL}>\n      <img\n        class=\"gallery-image\"\n        src=${webformatURL}\n        alt=${tags}\n      />\n    </a>\n    <ul class=\"gallery-text\">\n      <li class=\"gallery-text-property\">\n        <p class=\"gallery-text-dscr\">Likes</p>\n        <p class=\"gallery-text-count\">${likes}</p>\n      </li>\n      <li class=\"gallery-text-property\">\n        <p class=\"gallery-text-dscr\">Views</p>\n        <p class=\"gallery-text-count\">${views}</p>\n      </li>\n      <li class=\"gallery-text-property\">\n        <p class=\"gallery-text-dscr\">Comments</p>\n        <p class=\"gallery-text-count\">${comments}</p>\n      </li>\n      <li class=\"gallery-text-property\">\n        <p class=\"gallery-text-dscr\">Downloads</p>\n        <p class=\"gallery-text-count\">${downloads}</p>\n      </li>\n    </ul> \n  </li>`;   \n};\n\nexport function createImagesList(data) {\n  const arr = data.hits;\n  return arr.map(createImage).join('');\n};\n\nconst lightbox = new SimpleLightbox('.gallery-item a', {\n    captions: true,\n    captionSelector: 'img',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n    animationSpeed: 300,\n    widthRatio: 1,\n    heightRatio: 0.95,\n    disableRightClick: true,\n});","import { getImages } from \"./js/pixabay-api.js\";\nimport { createImagesList } from \"./js/render-functions.js\";\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\nform.addEventListener('submit', sendUserRequest);\n            \nfunction sendUserRequest(e) {\n    e.preventDefault();\n    const userData = e.target.elements.request.value.trim();\n    if (userData !== '') {\n        gallery.innerHTML = '';\n        const loader = document.querySelector('.loader');\n        loader.style.display = 'block';\n        getImages(userData)\n            .then(data => {\n                if (data.total !== 0) {\n                    const markup = createImagesList(data);\n                    gallery.insertAdjacentHTML('beforeend', markup);\n                    // gallery.refresh();\n                    \n                    const imageLoadPromises = Array.from(gallery.querySelectorAll('img')).map(image =>\n                    new Promise(resolve => {\n                        image.onload = resolve;\n                    })\n                    );\n                    return Promise.all(imageLoadPromises);\n\n                } else { alert('Sorry, there are no images matching your search query. Please try again!'); }\n            })\n            .then(() => loader.style.display = 'none')\n            .catch((error) => {\n                console.log(error);\n                loader.style.display = 'none';\n            })\n        form.reset();\n    } else { alert('Enter your Request!') }\n}\n"],"names":["getImages","userData","url","res","createImage","largeImageURL","webformatURL","tags","comments","downloads","likes","views","createImagesList","data","SimpleLightbox","form","gallery","sendUserRequest","e","loader","markup","imageLoadPromises","image","resolve","error"],"mappings":"svBACO,SAASA,EAAUC,EAAU,CAUhC,MAAMC,EAAM,4BATS,IAAI,gBAAgB,CACzC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,SAAU,KACV,WAAY,EAChB,CAAK,CAEmD,GAEpD,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAOA,EAAI,KAAI,CAAE,CAC5C,CCXA,SAASC,EAAY,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,SAAAC,EAAU,UAAAC,EAAW,MAAAC,EAAO,MAAAC,GAAS,CAC7F,MAAO;AAAA,mCAC0BN,CAAa;AAAA;AAAA;AAAA,cAGlCC,CAAY;AAAA,cACZC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMsBG,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,wCAILH,CAAQ;AAAA;AAAA;AAAA;AAAA,wCAIRC,CAAS;AAAA;AAAA;AAAA,QAIjD,CAEO,SAASG,EAAiBC,EAAM,CAErC,OADYA,EAAK,KACN,IAAIT,CAAW,EAAE,KAAK,EAAE,CACrC,CAEiB,IAAIU,EAAe,kBAAmB,CACnD,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,WAAY,EACZ,YAAa,IACb,kBAAmB,EACvB,CAAC,EC9CD,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAEjDD,EAAK,iBAAiB,SAAUE,CAAe,EAE/C,SAASA,EAAgBC,EAAG,CACxBA,EAAE,eAAc,EAChB,MAAMjB,EAAWiB,EAAE,OAAO,SAAS,QAAQ,MAAM,OACjD,GAAIjB,IAAa,GAAI,CACjBe,EAAQ,UAAY,GACpB,MAAMG,EAAS,SAAS,cAAc,SAAS,EAC/CA,EAAO,MAAM,QAAU,QACvBnB,EAAUC,CAAQ,EACb,KAAKY,GAAQ,CACV,GAAIA,EAAK,QAAU,EAAG,CAClB,MAAMO,EAASR,EAAiBC,CAAI,EACpCG,EAAQ,mBAAmB,YAAaI,CAAM,EAG9C,MAAMC,EAAoB,MAAM,KAAKL,EAAQ,iBAAiB,KAAK,CAAC,EAAE,IAAIM,GAC1E,IAAI,QAAQC,GAAW,CACnBD,EAAM,OAASC,CACvC,CAAqB,CACrB,EACoB,OAAO,QAAQ,IAAIF,CAAiB,CAExD,MAAyB,MAAM,0EAA0E,CACzG,CAAa,EACA,KAAK,IAAMF,EAAO,MAAM,QAAU,MAAM,EACxC,MAAOK,GAAU,CACd,QAAQ,IAAIA,CAAK,EACjBL,EAAO,MAAM,QAAU,MACvC,CAAa,EACLJ,EAAK,MAAK,CAClB,MAAa,MAAM,qBAAqB,CACxC"}